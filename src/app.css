@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

/* CSS Custom Properties for Light/Dark Mode */
:root {
	--bg-primary: #fefefe;
	--bg-secondary: #f8fafc;
	--bg-tertiary: #f1f5f9;
	--bg-glass: rgba(255, 255, 255, 0.6);
	--bg-glass-hover: rgba(255, 255, 255, 0.8);
	--bg-card: rgba(255, 255, 255, 0.7);
	--bg-input: rgba(255, 255, 255, 0.8);
	--bg-overlay: rgba(255, 255, 255, 0.9);

	--text-primary: #1f2937;
	--text-secondary: #6b7280;
	--text-tertiary: #9ca3af;
	--text-accent: #2563eb;
	--text-success: #16a34a;
	--text-error: #dc2626;
	--text-warning: #d97706;

	--border-primary: #e5e7eb;
	--border-secondary: #d1d5db;
	--border-focus: #3b82f6;
	--border-glass: rgba(255, 255, 255, 0.3);

	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
	--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
	--shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);

	--accent-blue: #3b82f6;
	--accent-indigo: #6366f1;
	--accent-purple: #8b5cf6;
	--accent-pink: #ec4899;
	--accent-emerald: #10b981;
	--accent-rose: #f43f5e;
}

[data-theme='dark'] {
	--bg-primary: #000000;
	--bg-secondary: #000000;
	--bg-tertiary: #000000;
	--bg-glass: rgba(0, 0, 0, 0.6);
	--bg-glass-hover: rgba(0, 0, 0, 0.8);
	--bg-card: rgba(0, 0, 0, 0.7);
	--bg-input: rgba(0, 0, 0, 0.8);
	--bg-overlay: rgba(0, 0, 0, 0.9);

	--text-primary: #f9fafb;
	--text-secondary: #d1d5db;
	--text-tertiary: #9ca3af;
	--text-accent: #60a5fa;
	--text-success: #34d399;
	--text-error: #f87171;
	--text-warning: #fbbf24;

	--border-primary: #374151;
	--border-secondary: #4b5563;
	--border-focus: #60a5fa;
	--border-glass: rgba(255, 255, 255, 0.1);

	/* Brighter accent colors for better visibility on pure black backgrounds */
	--accent-blue: #8cc0fc;
	--accent-indigo: #6366f1;
	--accent-purple: #b79cfe;
	--accent-pink: #ec4899;
	--accent-emerald: #50d194;
	--accent-rose: #f43f5e;

	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4);
	--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.4);
	--shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.6);
}

/* Base Styles */
:root {
	font-family:
		'Inter',
		-apple-system,
		BlinkMacSystemFont,
		'Segoe UI',
		sans-serif;
}

body {
	@apply min-h-screen transition-colors duration-300;
	background: var(--bg-primary);
	color: var(--text-primary);
}

/* Remove spinner buttons from number inputs */
input[type='number']::-webkit-outer-spin-button,
input[type='number']::-webkit-inner-spin-button {
	-webkit-appearance: none;
	margin: 0;
}

input[type='number'] {
	-moz-appearance: textfield;
}

/* Background Elements */
@utility bg-orb {
	@apply pointer-events-none absolute overflow-hidden;
}

.bg-orb::before {
	@apply absolute animate-pulse rounded-full blur-3xl;
	content: '';
	opacity: 0.3;
}

.bg-orb-1::before {
	@apply -top-20 -right-20 h-40 w-40;
	background: var(--accent-purple);
}

.bg-orb-2::before {
	@apply -bottom-20 -left-20 h-48 w-48;
	background: var(--accent-blue);
	animation-delay: 2s;
}

.bg-orb-3::before {
	@apply top-1/2 left-1/2 h-32 w-32 -translate-x-1/2 -translate-y-1/2 blur-2xl;
	background: var(--accent-emerald);
	animation-delay: 4s;
}

/* Buttons */
@utility btn {
	@apply inline-flex transform items-center justify-center gap-2 rounded-full font-medium transition-all duration-300 hover:-translate-y-1 disabled:transform-none disabled:opacity-50;
	box-shadow: var(--shadow-lg);
}

.btn:hover {
	box-shadow: var(--shadow-xl);
}

@utility btn-primary {
	@apply btn text-white;
	background: var(--accent-blue);
}

.btn-primary:hover:not(:disabled) {
	background: var(--accent-indigo);
}

@utility btn-secondary {
	@apply btn text-white;
	background: var(--accent-emerald);
}

.btn-secondary:hover:not(:disabled) {
	background: var(--accent-emerald);
	filter: brightness(1.1);
}

@utility btn-accent {
	@apply btn text-white;
	background: var(--accent-purple);
}

.btn-accent:hover:not(:disabled) {
	background: var(--accent-pink);
}

@utility btn-ghost {
	@apply btn;
	background: var(--bg-glass);
	color: var(--text-secondary);
	backdrop-filter: blur(12px);
}

.btn-ghost:hover:not(:disabled) {
	background: var(--bg-glass-hover);
	color: var(--text-primary);
}

@utility btn-sm {
	@apply px-4 py-2 text-sm;
}

@utility btn-md {
	@apply px-6 py-3 text-base;
}

@utility btn-lg {
	@apply px-8 py-4 text-lg;
}

/* Cards */
@utility card {
	@apply rounded-3xl backdrop-blur-lg transition-all duration-500;
	background: var(--bg-card);
	border: 1px solid var(--border-glass);
	box-shadow: var(--shadow-xl);
}

@utility card-hover {
	@apply card hover:-translate-y-1;
}

.card-hover:hover {
	box-shadow: var(--shadow-2xl);
}

@utility card-compact {
	@apply card p-4;
}

@utility card-normal {
	@apply card p-6;
}

@utility card-large {
	@apply card p-8;
}

/* Inputs */
@utility input {
	@apply px-4 py-3 font-light transition-all duration-300 focus:outline-none;
	background: var(--bg-input);
	color: var(--text-primary);
	border: 2px solid var(--border-secondary);
	backdrop-filter: blur(12px);
}

.input:focus {
	border-color: var(--border-focus);
	box-shadow: 0 0 0 4px var(--border-focus);
	box-shadow: 0 0 0 4px color-mix(in srgb, var(--border-focus) 20%, transparent);
}

@utility input-rounded {
	@apply input rounded-full;
}

@utility input-pill {
	@apply input-rounded text-center;
}

@utility input-rect {
	@apply input rounded-lg;
}

/* Text Areas */
@utility textarea {
	@apply input min-h-[120px] rounded-lg;
}

.textarea:focus {
	border-color: var(--border-focus);
	box-shadow: 0 0 0 4px color-mix(in srgb, var(--border-focus) 20%, transparent);
}

/* Text Styles */
@utility text-primary {
	color: var(--text-primary);
}

@utility text-secondary {
	color: var(--text-secondary);
}

@utility text-tertiary {
	color: var(--text-tertiary);
}

@utility text-accent {
	color: var(--text-accent);
}

@utility text-success {
	color: var(--text-success);
}

@utility text-error {
	color: var(--text-error);
}

@utility text-warning {
	color: var(--text-warning);
}

/* Layout */
@utility container-main {
	@apply mx-auto w-full max-w-6xl px-4;
}

@utility container-narrow {
	@apply mx-auto w-full max-w-2xl px-4;
}

@utility section-spacing {
	@apply space-y-6;
}

@utility section-spacing-sm {
	@apply space-y-3;
}

@utility section-spacing-lg {
	@apply space-y-8;
}

/* Navigation */
@utility nav {
	@apply sticky top-0 z-50 backdrop-blur-lg transition-all duration-300;
	background: var(--bg-overlay);
	border-bottom: 1px solid var(--border-primary);
	box-shadow: var(--shadow-sm);
}

@utility nav-link {
	@apply flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200;
	color: var(--text-secondary);
}

.nav-link:hover {
	color: var(--text-accent);
	background: var(--bg-glass);
}

@utility nav-link-active {
	@apply nav-link font-semibold;
	color: var(--text-accent);
	background: var(--bg-glass);
}

/* Toggle Buttons */
@utility toggle-group {
	@apply rounded-full p-1 backdrop-blur-lg;
	background: var(--bg-card);
	border: 1px solid var(--border-glass);
	box-shadow: var(--shadow-lg);
}

@utility toggle-btn {
	@apply flex transform cursor-pointer items-center gap-2 rounded-full px-6 py-3 font-medium transition-all duration-500;
}

@utility toggle-btn-active {
	@apply toggle-btn scale-105 text-white;
	box-shadow: var(--shadow-lg);
}

@utility toggle-btn-inactive {
	@apply toggle-btn;
	color: var(--text-secondary);
}

.toggle-btn-inactive:hover {
	color: var(--text-accent);
	background: var(--bg-glass);
}

/* Radio/Choice Buttons */
@utility choice-group {
	@apply flex flex-wrap gap-3;
}

@utility choice-btn {
	@apply transform cursor-pointer rounded-full px-4 py-2 text-sm transition-all duration-300 hover:scale-105;
	border: 2px solid var(--border-secondary);
	background: var(--bg-glass);
	color: var(--text-secondary);
}

.choice-btn:hover {
	border-color: var(--accent-rose);
	background: var(--bg-glass-hover);
}

@utility choice-btn-active {
	@apply choice-btn choice-btn-glow text-white;
	background: var(--accent-rose);
}

@utility choice-btn-inactive {
	@apply choice-btn;
}

@utility choice-btn-glow {
	border-color: var(--border-focus);
	box-shadow: 0 0 0 4px color-mix(in srgb, var(--border-focus) 20%, transparent);
	outline: none;
}

/* Form Groups */
@utility form-group {
	@apply space-y-2;
}

@utility form-label {
	@apply block text-sm font-medium;
	color: var(--text-primary);
}

@utility form-help {
	@apply text-xs;
	color: var(--text-tertiary);
}

/* Results */
@utility result-card {
	@apply card-hover card-normal;
}

@utility result-title {
	@apply text-xl font-medium transition-colors duration-300;
	color: var(--text-primary);
}

@utility result-meta {
	@apply flex items-center gap-4 text-sm font-light;
	color: var(--text-secondary);
}

/* Loading States */
@utility loading-spinner {
	@apply h-4 w-4 animate-spin rounded-full border-2;
	border-color: var(--border-secondary);
	border-top-color: currentColor;
}

/* Message States */
@utility message-card {
	@apply rounded-2xl p-4 text-center font-light backdrop-blur-lg;
	border: 1px solid var(--border-glass);
}

@utility error-card {
	@apply message-card;
	background: color-mix(in srgb, var(--text-error) 10%, var(--bg-card));
	color: var(--text-error);
	border-color: color-mix(in srgb, var(--text-error) 30%, transparent);
}

@utility success-card {
	@apply message-card;
	background: color-mix(in srgb, var(--text-success) 10%, var(--bg-card));
	color: var(--text-success);
	border-color: color-mix(in srgb, var(--text-success) 30%, transparent);
}

@utility warning-card {
	@apply message-card;
	background: color-mix(in srgb, var(--text-warning) 10%, var(--bg-card));
	color: var(--text-warning);
	border-color: color-mix(in srgb, var(--text-warning) 30%, transparent);
}

/* Empty States */
@utility empty-state {
	@apply rounded-3xl p-8 text-center backdrop-blur-lg;
	background: var(--bg-card);
	border: 1px solid var(--border-glass);
}

/* Hero Section */
@utility hero-title {
	@apply text-4xl leading-tight font-light md:text-6xl;
	color: var(--text-primary);
}

@utility hero-subtitle {
	@apply mx-auto max-w-2xl text-lg font-light opacity-90 md:text-xl;
	color: var(--text-secondary);
}

/* Age Range Picker */
@utility age-range-container {
	@apply flex items-center justify-center gap-4;
}

@utility age-input {
	@apply w-24 rounded-full px-4 py-3 text-center font-medium;
	background: var(--bg-input);
	border: 2px solid var(--border-secondary);
	color: var(--text-primary);
	transition: all 0.3s ease;
}

.age-input:focus {
	border-color: var(--border-focus);
	box-shadow: 0 0 0 4px color-mix(in srgb, var(--border-focus) 20%, transparent);
	outline: none;
}

@utility age-divider {
	@apply h-px w-8;
	background: linear-gradient(to right, transparent, var(--border-secondary), transparent);
}

/* Dark Mode Toggle */
@utility theme-toggle {
	@apply flex h-10 w-10 items-center justify-center rounded-full transition-all duration-300;
	background: var(--bg-glass);
	border: 1px solid var(--border-glass);
	color: var(--text-secondary);
	backdrop-filter: blur(12px);
}

.theme-toggle:hover {
	background: var(--bg-glass-hover);
	color: var(--text-primary);
	transform: scale(1.05);
}

/* Animations */
@keyframes float {
	0%,
	100% {
		transform: translateY(0px);
	}
	50% {
		transform: translateY(-10px);
	}
}

@utility animate-float {
	animation: float 6s ease-in-out infinite;
}

@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@utility animate-fade-in {
	animation: fadeIn 0.5s ease-out forwards;
}

/* Utility Classes */
@utility glass {
	background: var(--bg-glass);
	backdrop-filter: blur(12px);
}

@utility glass-hover {
	background: var(--bg-glass-hover);
	backdrop-filter: blur(12px);
}

@utility divider {
	@apply h-px;
	background: linear-gradient(to right, transparent, var(--border-secondary), transparent);
}

/* Description Input Specific */
@utility description-container {
	@apply relative w-full;
}

@utility description-textarea {
	@apply textarea w-full;
}

@utility description-controls {
	@apply mt-2 flex items-center justify-between;
}

@utility char-count {
	@apply text-xs;
	color: var(--text-tertiary);
}

@utility char-count-over {
	@apply char-count;
	color: var(--text-error);
}

@utility voice-controls {
	@apply flex gap-2;
}

@utility voice-btn {
	@apply btn-sm flex items-center gap-2 transition-all duration-300;
	background: var(--accent-blue);
	color: white;
}

.voice-btn:hover:not(:disabled) {
	background: var(--accent-indigo);
}

@utility voice-btn-recording {
	@apply voice-btn animate-pulse;
	background: var(--text-error);
}

@utility voice-btn-transcribing {
	@apply voice-btn cursor-not-allowed;
	background: var(--text-tertiary);
}

/* Phone Input Specific */
@utility phone-input-container {
	@apply relative;
}

@utility phone-input {
	@apply input-rect w-full;
}

/* Social Links */
@utility social-link-item {
	@apply mb-3 flex items-center gap-2;
}

@utility remove-link-btn {
	@apply btn-sm text-white;
	background: var(--text-error);
}

@utility add-link-btn {
	@apply btn-sm mt-2 text-white;
	background: var(--text-success);
}

/* Location Controls */
@utility location-container {
	@apply flex flex-col gap-4;
}

@utility location-display {
	@apply rounded-lg p-3 backdrop-blur-lg;
	background: var(--bg-glass);
	border: 2px solid var(--border-secondary);
}

@utility location-btn {
	@apply btn-ghost btn-sm self-start;
}

@utility current-location {
	@apply font-mono;
	color: var(--text-primary);
}

@utility no-location {
	@apply italic;
	color: var(--text-tertiary);
}

/* Responsive Design */
@media (max-width: 640px) {
	.container-main {
		@apply px-2;
	}

	.card-normal {
		@apply p-4;
	}

	.hero-title {
		@apply text-3xl;
	}

	.age-range-container {
		@apply flex-col gap-2;
	}

	.choice-group {
		@apply justify-center;
	}
}
